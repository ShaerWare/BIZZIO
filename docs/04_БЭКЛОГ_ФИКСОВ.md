# Бэклог фиксов и улучшений

**Проект:** Bizzo.ru — B2B бизнес-сеть
**Создан:** 13.01.2026
**Источник:** docs/03_НЕПРЕДУСМОТРЕННЫЕ_ФИЧИ.md
**Статус спринтов:** 7/10 завершено (70% MVP)

---

## Статус работ

| Категория | Всего задач | Готово | В работе | Ожидает |
|-----------|-------------|--------|----------|---------|
| Тендеры (RFQ) | 7 | 3 | 0 | 4 |
| Аукционы | 14 | 9 | 0 | 5 |
| Компании | 3 | 3 | 0 | 0 |
| Сервер/Инфра | 4 | 2 | 0 | 2 |
| Общее | 9 | 3 | 0 | 6 |
| Формы | 3 | 1 | 0 | 2 |
| Новости | 1 | 0 | 0 | 1 |
| **Итого** | **38** | **21** | **0** | **17** |

---

## Приоритеты

- **P1 (Критичный)** — блокирует работу пользователей
- **P2 (Высокий)** — влияет на UX, нужно сделать до релиза
- **P3 (Средний)** — улучшения, можно отложить
- **P4 (Низкий)** — nice-to-have

---

## 1. Тендеры (RFQ)

| # | Задача | Приоритет | Статус | Комментарий |
|---|--------|-----------|--------|-------------|
| T1 | Приглашение компаний к участию в RFQ (выбор из списка + копирование ссылки) | P2 | ✅ Готово | Выбор компаний уже был, добавлено копирование ссылки |
| T2 | Обезличивание заявок в процессе проведения RFQ | P2 | ✅ Готово | "Участник N" до закрытия, названия после |
| T3 | Кнопку "Подать заявку" продублировать на место блока "Написать в поддержку" | P3 | ⬜ Ожидает | UX улучшение |
| T4 | Блок "Написать в поддержку" перенести вниз страницы | P3 | ⬜ Ожидает | UX улучшение |
| T5 | Добавить формулу расчёта итогового балла (на страницу создания, подачи заявки, в протокол, в раздел "Правила") | P2 | ✅ Готово | Добавлено в 3 места |
| T6 | Объединить меню Тендеров (Найти, Разместить RFQ, Разместить Аукцион, Мои тендеры, Мои заявки, Мои приглашения, Мои запросы) | P3 | ⬜ Ожидает | Рефакторинг навигации |
| T7 | RFQ и Аукционы в общем списке с указанием типа процедуры | P3 | ⬜ Ожидает | После T6 |

---

## 2. Аукционы

| # | Задача | Приоритет | Статус | Комментарий |
|---|--------|-----------|--------|-------------|
| A1 | Исправить отображение кнопки "Подать заявку" (не отображается для некоторых аукционов) | P1 | ✅ Готово | Добавлены информативные сообщения о причинах |
| A2 | Изменить "Стартовая цена" → "Начальная максимальная цена" | P3 | ⬜ Ожидает | Терминология |
| A3 | Исправить статус "Прием заявок" (устанавливается до начала приёма) | P2 | ✅ Готово | Карточки auction/rfq: "Скоро" для будущих |
| A4 | Удалить поле "Шаг аукциона" | P2 | ✅ Готово | Фикс. диапазон 0.5-5% |
| A5 | Добавить выбор ставки кликом на мин/макс сумму снижения (диапазон 0.5-5%) | P2 | ✅ Готово | Кнопки -0.5%, -1%, -2%, -3%, -4%, -5% |
| A6 | Запретить две ставки подряд от одного участника | P2 | ✅ Готово | Проверка lastBid в storeBid() |
| A7 | Показывать участнику его номер или название компании в таблице ставок | P2 | ✅ Готово | Подсветка "(вы)" |
| A8 | Вывести таблицу ставок на главный экран торгов (без перехода на вкладку) | P2 | ✅ Готово | Панель торгов с формой и таблицей |
| A9 | Добавить возможность скачать протокол состоявшегося аукциона | P1 | ✅ Готово | Добавлена кнопка генерации/скачивания |
| A10 | Скрывать названия компаний от организатора до получения протокола | P2 | ✅ Готово | Анонимные коды для всех во время торгов |
| A11 | Упростить установку времени: "Начало приема заявок" = время публикации по умолчанию | P3 | ⬜ Ожидает | UX |
| A12 | "Дата и время начала торгов" = окончание приёма + 1 мин по умолчанию | P3 | ⬜ Ожидает | UX |
| A13 | Добавить примечание "UTC +3" ко всем полям времени | P3 | ⬜ Ожидает | UX |
| A14 | Удалить примечание "Торги начнутся после окончания приема заявок" | P4 | ⬜ Ожидает | Текст |

---

## 3. Общие проблемы форм

| # | Задача | Приоритет | Статус | Комментарий |
|---|--------|-----------|--------|-------------|
| F1 | Исправить скролл времени в браузерах (большой шаг прокрутки) | P3 | ⬜ Ожидает | UX datetime picker |
| F2 | Исправить "зону нажатия" кнопки "Выберите файл" | P3 | ⬜ Ожидает | CSS баг |
| F3 | Сохранять прикреплённый файл при ошибке валидации формы | P2 | ✅ Готово | Temp uploads + x-file-upload компонент |

---

## 4. Компании

| # | Задача | Приоритет | Статус | Комментарий |
|---|--------|-----------|--------|-------------|
| C1 | Исправить кнопки "Одобрить"/"Отклонить" заявки на присоединение (не кликабельны) | P1 | ✅ Готово | Исправлено: имя поля + экранирование JS |
| C2 | Исправить выбор отрасли при регистрации на мобильном | P2 | ✅ Готово | text-base (16px) для iOS auto-zoom |
| C3 | Скрывать черновики от посторонних (видят только владельцы и админ) | P2 | ✅ Готово | Добавлен фильтр в RfqController, AuctionController |

---

## 5. Сервер / Инфраструктура

| # | Задача | Приоритет | Статус | Комментарий |
|---|--------|-----------|--------|-------------|
| S1 | Настроить таймзону сервера UTC+3 (МСК) | P2 | ✅ Готово | config/app.php: Europe/Moscow |
| S2 | Исправить ошибку 413 при добавлении PDF к компании | P1 | ✅ Готово | nginx: 127.0.0.1:9000 + лимиты 100M |
| S3 | Настроить VPN на сервере | P4 | ⬜ Ожидает | Опционально |
| S4 | Убрать доп. подтверждения браузера при отправке запросов | P3 | ⬜ Ожидает | CSRF/confirm |

---

## 6. Общее (UI/UX)

| # | Задача | Приоритет | Статус | Комментарий |
|---|--------|-----------|--------|-------------|
| G1 | Регистрация через VK (VKontakte OAuth) | P2 | ⬜ Ожидает | socialiteproviders/vkontakte установлен |
| G2 | Валидация ИНН: 10-12 символов | P2 | ✅ Готово | Уже реализовано: regex /^\d{10}(\d{2})?$/ |
| G3 | Мобильное меню: часть пунктов не видно | P2 | ✅ Готово | max-h + overflow-y-auto |
| G4 | Пересчёт времени по часовому поясу пользователя | P3 | ⬜ Ожидает | JS timezone |

---

## 7. Новости

| # | Задача | Приоритет | Статус | Комментарий |
|---|--------|-----------|--------|-------------|
| N1 | Настройка таймаута обновления RSS в админке | P3 | ⬜ Ожидает | Orchid config |

---

## Рекомендуемый порядок работы

### Фаза 1 — Критичные баги (P1)
1. **A1** — Кнопка "Подать заявку" в аукционах
2. **A9** — Протокол аукциона
3. **C1** — Кнопки заявок на присоединение
4. **S2** — Ошибка 413 (nginx upload)

### Фаза 2 — Высокий приоритет (P2)
5. **A3-A8** — Логика аукционов (статусы, ставки, анонимность)
6. **T1-T2** — Приглашения и анонимность в RFQ
7. **G1** — VK OAuth
8. **G2** — Валидация ИНН
9. **C2-C3** — Мобильный баг отрасли, черновики

### Фаза 3 — Средний приоритет (P3)
10. **T3-T7** — UX тендеров, меню
11. **A11-A14** — UX времени аукционов
12. **F1-F3** — Формы
13. **G3-G4** — Мобильное меню, таймзоны

### Фаза 4 — Низкий приоритет (P4)
14. Остальные задачи

---

## История изменений

| Дата | Изменение |
|------|-----------|
| 13.01.2026 | Создан документ на основе 03_НЕПРЕДУСМОТРЕННЫЕ_ФИЧИ.md |
| 13.01.2026 | Завершена Фаза 1: A1, A9, C1, S2 — все 4 критичных бага P1 исправлены |
| 21.01.2026 | C3: Скрытие черновиков от посторонних — фильтр добавлен в RfqController и AuctionController |
| 21.01.2026 | G2: Валидация ИНН — уже реализована (regex /^\d{10}(\d{2})?$/) |
| 21.01.2026 | A3: Исправлены карточки auction/rfq — показывают "Скоро" для будущих аукционов/тендеров |
| 21.01.2026 | A6: Запрет двух ставок подряд — проверка lastBid в AuctionController::storeBid() |
| 22.01.2026 | A4, A5, A7, A8, A10: UX аукционов — шаг удалён, кнопки ставок, панель торгов, анонимность |
| 22.01.2026 | T1, T2, T5: UX тендеров — копирование ссылки, обезличивание, формула расчёта |
| 22.01.2026 | G3: Мобильное меню — добавлен скролл (max-h + overflow-y-auto) |
| 22.01.2026 | C2: Выбор отрасли на мобильном — text-base (16px) для предотвращения auto-zoom iOS |
| 22.01.2026 | F3: Сохранение файлов при ошибке валидации — TempUploadController + x-file-upload компонент |
| 22.01.2026 | S1: Таймзона UTC+3 — config/app.php: Europe/Moscow, локали ru/ru_RU |

---

**Следующие шаги:** Фаза 2 практически завершена, остался только G1 (VK OAuth). Можно переходить к Фазе 3 (P3)
